(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{102:function(e,t,n){},103:function(e,t,n){},130:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(9),i=n.n(r),o=(n(102),n(103),n(27)),s=n(162),j=n(166),u=n(167),l=n(168),b=n(170),m=n(88),O=n(176),g=n(82),d=n.n(g),h=n(169),f=n(18),p=n(83),x=n.n(p),v=n(84),I=n.n(v),k=n(38),y="/",S="/bookmarks",E=n(3),T=function(){var e=Object(f.c)((function(e){return e.image.isSearching})),t=Object(a.useState)(null),n=Object(o.a)(t,2),c=n[0],r=n[1],i=function(){r(null)};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(s.a,{position:"static",children:Object(E.jsxs)(j.a,{variant:"dense",children:[Object(E.jsx)(u.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(e){r(e.currentTarget)},children:Object(E.jsx)(d.a,{})}),Object(E.jsx)(l.a,{variant:"h6",color:"inherit",children:"Image Finder"}),Object(E.jsx)(h.a,{fontSize:"large",style:{marginLeft:"auto"}})]})}),e&&Object(E.jsx)(b.a,{color:"secondary"}),Object(E.jsxs)(m.a,{id:"simple-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:i,children:[Object(E.jsx)(k.b,{to:y,children:Object(E.jsx)(O.a,{onClick:i,children:Object(E.jsx)(x.a,{})})}),Object(E.jsx)(k.b,{to:S,children:Object(E.jsx)(O.a,{onClick:i,children:Object(E.jsx)(I.a,{})})})]})]})},w=n(11),C=n(171),A=n(89),B=n(13),G={bookmarksImage:[]},F=function(e){return{type:"REMOVE-IMAGE",imageId:e}},M=n(131),N=n(172),D=n(56),P=n.n(D),R=n(55),_=n.n(R),U=function(e){var t=e.imageId,n=e.imageUrl,a=(e.valueTags,e.removeImage);return Object(E.jsx)(C.a,{item:!0,children:Object(E.jsxs)(M.a,{elevation:3,style:{padding:"10px"},children:[Object(E.jsx)("div",{className:_.a.photoBox,children:Object(E.jsx)("img",{src:n,width:"250px",height:"200px"})}),Object(E.jsx)("div",{children:Object(E.jsx)(N.a,{variant:"contained",color:"secondary",size:"small",startIcon:Object(E.jsx)(P.a,{}),style:{margin:"10px 0"},onClick:function(){a(t)},children:"Remove it"})})]})})},z=function(){var e=Object(f.c)((function(e){return e.bookmarks.bookmarksImage})),t=Object(f.b)(),n=function(e){t(F(e))};return Object(E.jsx)(C.a,{container:!0,spacing:5,style:{justifyContent:"center",padding:"30px"},children:e.map((function(e){return Object(E.jsx)(U,{imageId:e.imageId,imageUrl:e.imageUrl,valueTags:e.valueTags,removeImage:n},e.imageId)}))})},L=n(173),H=n(85),J=n.n(H).a.create({baseURL:"https://api.flickr.com/services/rest/?method=flickr.photos.search&format=json&nojsoncallback=true&api_key=0ec80156bc9022b05d6f61d04f799f84"}),K=function(e){return J.get("",{params:e})},W={imageData:{page:1,pages:0,perpage:20,total:0,photo:[]},options:{per_page:20},isSearching:!1,isShowImage:!1},V=function(e){return{type:"IS-SEARCHING",isSearching:e}},q=function(e){return{type:"IS-SHOW-IMAGE",isShowImage:e}},Q=function(){return function(e,t){e(V(!0));var n=t().image.options;K(n).then((function(t){e({type:"GET-IMAGE",data:t.data.photos})})).finally((function(){e(V(!1)),e(q(!0))}))}},X=n(175),Y=function(e){var t=e.page,n=e.count,a=e.onChangePage;return Object(E.jsx)("div",{style:{marginLeft:"auto"},children:Object(E.jsx)(X.a,{count:n,shape:"rounded",onChange:function(e,t){a(t)},page:t})})},Z=n(174),$=n(86),ee=n.n($),te=function(e){var t=e.id,n=(e.owner,e.secret),r=e.server,i=e.farm,s=(e.title,e.addImageFromBookmarks),j=e.removeImageFromBookmarks,u=Object(a.useState)(!0),l=Object(o.a)(u,2),b=l[0],m=l[1],O=c.a.useState(""),g=Object(o.a)(O,2),d=g[0],h=g[1],f="https://farm".concat(i,".staticflickr.com/").concat(r,"/").concat(t,"_").concat(n,".jpg");return Object(E.jsx)(C.a,{item:!0,children:Object(E.jsxs)(M.a,{elevation:3,style:{padding:"10px"},children:[Object(E.jsx)("div",{className:_.a.photoBox,children:Object(E.jsx)("img",{src:f,width:"250px",height:"200px"})}),Object(E.jsx)("div",{children:b?Object(E.jsx)(N.a,{variant:"contained",color:"primary",size:"small",startIcon:Object(E.jsx)(ee.a,{}),style:{margin:"10px 0"},onClick:function(){m(!1),s(t,f,d)},children:"Bookmark it!"}):Object(E.jsx)(N.a,{variant:"contained",color:"secondary",size:"small",startIcon:Object(E.jsx)(P.a,{}),style:{margin:"10px 0"},onClick:function(){m(!0),j(t)},children:"Remove it"})}),Object(E.jsx)("div",{children:Object(E.jsx)(Z.a,{id:"outlined-multiline-flexible",label:"some tags?",multiline:!0,disabled:!b,size:"small",maxRows:4,value:d,onChange:function(e){h(e.target.value)},variant:"outlined",style:{marginBottom:"10px",width:"100%"}})})]})})},ne=function(){var e=Object(f.c)((function(e){return e.image.imageData.photo})),t=Object(f.c)((function(e){return e.image.imageData.page})),n=Object(f.c)((function(e){return e.image.imageData.pages})),a=Object(f.b)(),c=function(e,t,n){a(function(e,t,n){return{type:"ADD-IMAGE-TO-BOOKMARKS",imageId:e,imageUrl:t,valueTags:n}}(e,t,n))},r=function(e){a(F(e))};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(C.a,{container:!0,style:{marginBottom:"30px"},children:Object(E.jsx)(Y,{page:t,count:n,onChangePage:function(e){a(function(e){return{type:"SET-OPTIONS-PAGE",page:e}}(e)),a(Q())}})}),Object(E.jsx)(C.a,{container:!0,spacing:5,style:{justifyContent:"center"},children:e.map((function(e){return Object(E.jsx)(te,{id:e.id,owner:e.owner,secret:e.secret,server:e.server,farm:e.farm,title:e.title,addImageFromBookmarks:c,removeImageFromBookmarks:r},e.id)}))})]})},ae=function(){return Object(E.jsx)(l.a,{variant:"h6",color:"primary",style:{textAlign:"center"},children:"No images here. Would you try to search for anything else?"})},ce=function(){var e=Object(f.c)((function(e){return e.image.isShowImage}));return Object(E.jsx)(E.Fragment,{children:e?Object(E.jsx)(ne,{}):Object(E.jsx)(ae,{})})},re=function(){var e=Object(f.b)(),t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],r=n[1],i=function(e,t){var n=Object(a.useState)(e),c=Object(o.a)(n,2),r=c[0],i=c[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){i(e)}),t);return function(){clearTimeout(n)}}),[e]),r}(c,700);Object(a.useEffect)((function(){c||e(q(!1))}),[c]),Object(a.useEffect)((function(){i&&(e({type:"SET-OPTIONS",options:{page:1,text:i}}),e(Q()))}),[i]);return Object(E.jsx)(C.a,{container:!0,style:{padding:"30px"},children:Object(E.jsx)(Z.a,{id:"standard-textarea",label:"Find pictures",multiline:!0,style:{width:"100%"},onChange:function(e){r(e.currentTarget.value)}})})},ie=function(){return Object(E.jsxs)(L.a,{fixed:!0,children:[Object(E.jsx)(re,{}),Object(E.jsx)(ce,{})]})},oe=function(){return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(w.c,{children:[Object(E.jsx)(w.a,{exact:!0,path:y,render:function(){return Object(E.jsx)(ie,{})}}),Object(E.jsx)(w.a,{exact:!0,path:S,render:function(){return Object(E.jsx)(z,{})}})]})})};var se=function(){return Object(E.jsxs)("div",{children:[Object(E.jsx)(T,{}),Object(E.jsx)(oe,{})]})},je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,177)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},ue=n(59),le=n(87),be=Object(ue.b)({image:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET-IMAGE":return Object(B.a)(Object(B.a)({},e),{},{imageData:t.data});case"SET-OPTIONS":return Object(B.a)(Object(B.a)({},e),{},{options:Object(B.a)(Object(B.a)({},e.options),t.options)});case"SET-OPTIONS-PAGE":return Object(B.a)(Object(B.a)({},e),{},{options:Object(B.a)(Object(B.a)({},e.options),{},{page:t.page})});case"IS-SEARCHING":return Object(B.a)(Object(B.a)({},e),{},{isSearching:t.isSearching});case"IS-SHOW-IMAGE":return Object(B.a)(Object(B.a)({},e),{},{isShowImage:t.isShowImage});default:return e}},bookmarks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-IMAGE-TO-BOOKMARKS":return Object(B.a)(Object(B.a)({},e),{},{bookmarksImage:[].concat(Object(A.a)(e.bookmarksImage),[{imageId:t.imageId,imageUrl:t.imageUrl,valueTags:t.valueTags}])});case"REMOVE-IMAGE":return Object(B.a)(Object(B.a)({},e),{},{bookmarksImage:e.bookmarksImage.filter((function(e){return e.imageId!==t.imageId}))});default:return e}}}),me=Object(ue.c)(be,function(){try{var e=localStorage.getItem("app-state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),Object(ue.a)(le.a));me.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("app-state",t)}catch(n){}}({bookmarks:me.getState().bookmarks})})),window.store=me,i.a.render(Object(E.jsx)(k.a,{children:Object(E.jsx)(f.a,{store:me,children:Object(E.jsx)(se,{})})}),document.getElementById("root")),je()},55:function(e,t,n){e.exports={photoBox:"ImageItem_photoBox__G__dm"}}},[[130,1,2]]]);
//# sourceMappingURL=main.d4c64009.chunk.js.map